---
version: 1
interactions:
- request:
    method: GET
    url: http://authservice/api/token?for=some_valid_openshift_resource&force_pull=true
    headers:
      sub: ["tenant_service"] # will be compared against the `sub` claim in the incoming request's token
  response:
    status: 200 OK
    code: 200
    body: '{ 
			"access_token": "an_openshift_token",
			"token_type": "bearer",
			"username": "tenant_service"
    }'
- request:
    method: GET
    url: http://authservice/api/clusters/
    headers:
      sub: ["tenant_service"] # will be compared against the `sub` claim in the incoming request's token
  response:
    status: 200 OK
    code: 200
    body: '{
      "data":[
        {
          "name": "cluster_name",
          "api-url": "http://cluster/api",
          "console-url": "http://cluster/console",
          "metrics-url": "http://cluster/metrics",
          "app-dns": "foo"
        }
      ]
    }'
- request:
    method: GET
    url: http://authservice/api/token?for=http%3A%2F%2Fcluster%2Fapi&force_pull=true
    headers:
      sub: ["tenant_service"] # will be compared against the `sub` claim in the incoming request's token
  response:
    status: 200 OK
    code: 200
    body: '{ 
			"access_token": "jA0ECQMCtCG1bfGEQbxg0kABEQ6nh/A4tMGGkHMHJtLDtFLyXh28IuLvoyGjsZtWPV0LHwN+EEsTtu90BQGbWFdBv+2Wiedk9eE3h08lwA8m",
			"token_type": "bearer",
			"username": "tenant_service"
    }'
    
