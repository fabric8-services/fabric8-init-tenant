---
version: 1
interactions:
- request:
    method: GET
    url: https://openshift.test/oapi/v1/projects
    headers:
      sub: ["user_multi_projects"] # will be compared against the `sub` claim in the incoming request's token
  response:
    status: 200 OK
    code: 200
    body: '{
      "kind": "ProjectList",
      "apiVersion": "v1",
      "metadata": {
        "selfLink": "/oapi/v1/projects"
      },
      "items": [
        {
          "metadata": {
            "name": "foo1",
            "selfLink": "/oapi/v1/projects/foo1",
            "uid": "51e07e7a-1597-11e7-ad87-0000000000001",
            "resourceVersion": "0",
            "creationTimestamp": "2017-03-30T22:22:11Z",
            "annotations": {
              "openshift.io/description": "",
              "openshift.io/display-name": "",
            }
          },
          "spec": {
            "finalizers": [
              "openshift.io/origin",
              "kubernetes"
            ]
          },
          "status": {
            "phase": "Active"
          }
        },
        {
          "metadata": {
            "name": "foo2",
            "selfLink": "/oapi/v1/projects/foo2",
            "uid": "51e07e7a-1597-11e7-ad87-0000000000002",
            "resourceVersion": "0",
            "creationTimestamp": "2017-03-30T22:22:11Z",
            "annotations": {
              "openshift.io/description": "",
              "openshift.io/display-name": "",
            }
          },
          "spec": {
            "finalizers": [
              "openshift.io/origin",
              "kubernetes"
            ]
          },
          "status": {
            "phase": "Active"
          }
        }
      ]}'
- request:
    method: GET
    url: https://openshift.test/oapi/v1/projects
    headers:
      sub: ["user_single_project"] # will be compared against the `sub` claim in the incoming request's token
  response:
    status: 200 OK
    code: 200
    body: '{
          "kind": "ProjectList",
          "apiVersion": "v1",
          "metadata": {
            "selfLink": "/oapi/v1/projects"
          },
          "items": [
            {
              "metadata": {
                "name": "foo",
                "selfLink": "/oapi/v1/projects/foo",
                "uid": "51e07e7a-1597-11e7-ad87-0e6aaf341bbf",
                "resourceVersion": "0",
                "creationTimestamp": "2017-03-30T22:22:11Z",
                "annotations": {
                  "openshift.io/description": "",
                  "openshift.io/display-name": "",
                }
              },
              "spec": {
                "finalizers": [
                  "openshift.io/origin",
                  "kubernetes"
                ]
              },
              "status": {
                "phase": "Active"
              }
            }
          ]}'
- request:
    method: GET
    url: https://openshift.test/oapi/v1/projects
    headers:
      sub: ["user_no_project"] # will be compared against the `sub` claim in the incoming request's token
  response:
    status: 200 OK
    code: 200
    body: '{
      "kind": "ProjectList",
      "apiVersion": "v1",
      "metadata": {
        "selfLink": "/oapi/v1/projects"
      },
      "items": []
    }'